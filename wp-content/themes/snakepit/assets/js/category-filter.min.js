var SnakepitCategoryFilter=function(a){"use strict";return{init:function(){this.ajaxCategoryFilter(),this.isotopeCategoryFilter()},ajaxCategoryFilter_bak:function(){var b,c,d,e,f,g,h,i,j,k=this,l="#category-filter-post a",m=a("main");a(document).on("click",l,function(n){return SnakepitParams.isCustomizer?(alert(SnakepitParams.l10n.categoryFilterDisabledMsg),!1):(n.preventDefault(),n.stopPropagation(),b=a(this).parent().parent().parent().next(".items"),c=b.next(".trigger-container"),d=c.next(".navigation"),f=b.data("params"),g=a(this).data("cat-term"),h=a(this).attr("href"),b.animate({opacity:.44}),a(l).removeClass("active"),a(this).addClass("active"),i={action:"snakepit_ajax_get_post_index_content",cat:a(this).data("cat-term"),params:f},a.post(SnakepitParams.ajaxUrl,i,function(f){f?(m.infinitescroll("binding","unbind"),m.data("infinitescroll",null),a(window).unbind(".infscr"),j=a(document.createElement("html")),j[0].innerHTML=f,void 0!==j.find(".paging-navigation").html()&&(e=j.find(".paging-navigation").html()),d.html(e),c.html(j.find(".trigger-container").html()),b.html(j.find(".items").html()).animate({opacity:1}),k.callBack(),SnakepitParams.isCustomizer):b.fadeIn()}),!1)})},callBack:function(){var b=a(".items");SnakepitUi.resizeVideoBackground(),SnakepitUi.lazyLoad(),SnakepitUi.fluidVideos(),SnakepitUi.flexSlider(),SnakepitUi.lightbox(),SnakepitUi.addItemAnimationDelay(),SnakepitUi.parallax(),SnakepitLoadPosts.init(),"undefined"!=typeof SnakepitYTVideoBg&&SnakepitYTVideoBg.init(),a(".masonry-container").length&&(SnakepitMasonry.init(),b.data("isotope")&&b.isotope("reloadItems").isotope()),SnakepitInfiniteScroll.infiniteScrollTrigger(),a(".infinitescroll-container").length&&SnakepitInfiniteScroll.infiniteScroll(),"undefined"!=typeof SnakepitAjaxNav&&SnakepitAjaxNav.setAjaxLinkClass(),"undefined"!=typeof WPM&&WPM.init(),b.find(".twitter-tweet").length&&a.getScript("http://platform.twitter.com/widgets.js"),b.find(".instagram-media").length&&(a.getScript("//platform.instagram.com/en_US/embeds.js"),void 0!==window.instgrm&&window.instgrm.Embeds.process()),b.find("audio,video").length&&b.find("audio,video").mediaelementplayer()},ajaxCategoryFilter:function(){if(a(".category-filter").length&&!a("body").hasClass("category")){var b,c=this;a(".ajax-filtered-content").each(function(){b=a(this)}),a(".category-filter-post a").on("click",function(b){if(b.preventDefault(),SnakepitParams.isCustomizer)return void alert(SnakepitParams.l10n.categoryFilterDisabledMsg);var d,e,f,g=a(this),h=g.parent().parent().parent().next(".items"),i=h.data("params");d={action:"snakepit_ajax_get_post_index_content",cat:a(this).data("cat-term"),params:i},a.post(SnakepitParams.ajaxUrl,d,function(b){console.log(b),b&&(e=a(document.createElement("html")),e[0].innerHTML=b,f=e.find(".items").html(),h.html(f),c.callBack(),a(window).trigger("resize"))})})}},isotopeCategoryFilter:function(){if(a(".category-filter").length&&!a("body").hasClass("tax-work_type")&&!a("body").hasClass("tax-video_type")&&!a("body").hasClass("tax-band")){var b,c,d="masonry";a(".filtered-content").each(function(){b=a(this),b.hasClass("isotope-initialized")?console.log("Already loaded"):b.imagesLoaded(function(){b.isotope({itemSelector:".entry",animationEngine:"best-available"})}).addClass("isotope-initialized")}),a(".category-filter a").on("click",function(e){if(e.preventDefault(),!a(this).hasClass("category-filter-post")){var f=a(this).attr("data-filter");return a(this).attr("href","#"),c=a(this).parent().parent().parent(),b=c.next(".filtered-content"),b.hasClass("metro-container")&&(d="packery"),b.hasClass("isotope-initialized")&&b.imagesLoaded(function(){b.isotope({filter:"."+f,itemSelector:".entry",layoutMode:d,animationEngine:"best-available"})}),c.find("a").removeClass("active"),a(this).addClass("active"),setTimeout(function(){a(window).trigger("resize")},500),!1}})}}}}(jQuery);!function(a){"use strict";a(document).ready(function(){SnakepitCategoryFilter.init()})}(jQuery);